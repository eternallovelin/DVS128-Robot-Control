#This makefile is used for using the keyboard module

TARGET		= main


INCLUDEDIRS	+= -I../include
LIBDIRS		+= -L../lib
ODIR		= bin
SDIR		= src

_OBJS		= main_keyboard.o zig_control.o 
OBJS		= $(patsubst %,$(ODIR)/%,$(_OBJS))

_SRCS		= $(OBJS:.o=.c)
SRCS		= $(patsubst %,$(SDIR)/%,$(_SRCS))

CFLAGS		= $(INCLUDEDIRS) -W -Wall -O2
LDFLAGS		= $(LIBDIRS) -lm -lzgb -lncurses

CC			= gcc

all:	$(TARGET)

$(TARGET): $(OBJS)
	$(CC) -o $@ $^ $(LDFLAGS)
	
$(ODIR)/%.o: $(SDIR)/%.c
	$(CC) -c -o $@ $< $(CFLAGS)
	
clean:
	rm -f $(OBJS) $(TARGET)
	@echo "file deleted."

dep:
	gccmakedep $(SRCS)

